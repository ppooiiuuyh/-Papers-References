<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>review.html</title>
  <meta name="generator" content="Haroopad 0.13.1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>div.oembedall-githubrepos{border:1px solid #DDD;border-radius:4px;list-style-type:none;margin:0 0 10px;padding:8px 10px 0;font:13.34px/1.4 helvetica,arial,freesans,clean,sans-serif;width:452px;background-color:#fff}div.oembedall-githubrepos .oembedall-body{background:-moz-linear-gradient(center top,#FAFAFA,#EFEFEF);background:-webkit-gradient(linear,left top,left bottom,from(#FAFAFA),to(#EFEFEF));border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-top:1px solid #EEE;margin-left:-10px;margin-top:8px;padding:5px 10px;width:100%}div.oembedall-githubrepos h3{font-size:14px;margin:0;padding-left:18px;white-space:nowrap}div.oembedall-githubrepos p.oembedall-description{color:#444;font-size:12px;margin:0 0 3px}div.oembedall-githubrepos p.oembedall-updated-at{color:#888;font-size:11px;margin:0}div.oembedall-githubrepos ul.oembedall-repo-stats{border:none;float:right;font-size:11px;font-weight:700;padding-left:15px;position:relative;z-index:5;margin:0}div.oembedall-githubrepos ul.oembedall-repo-stats li{border:none;color:#666;display:inline-block;list-style-type:none;margin:0!important}div.oembedall-githubrepos ul.oembedall-repo-stats li a{background-color:transparent;border:none;color:#666!important;background-position:5px -2px;background-repeat:no-repeat;border-left:1px solid #DDD;display:inline-block;height:21px;line-height:21px;padding:0 5px 0 23px}div.oembedall-githubrepos ul.oembedall-repo-stats li:first-child a{border-left:medium none;margin-right:-3px}div.oembedall-githubrepos ul.oembedall-repo-stats li a:hover{background:5px -27px no-repeat #4183C4;color:#FFF!important;text-decoration:none}div.oembedall-githubrepos ul.oembedall-repo-stats li:first-child a:hover{border-bottom-left-radius:3px;border-top-left-radius:3px}ul.oembedall-repo-stats li:last-child a:hover{border-bottom-right-radius:3px;border-top-right-radius:3px}span.oembedall-closehide{background-color:#aaa;border-radius:2px;cursor:pointer;margin-right:3px}div.oembedall-container{margin-top:5px;text-align:left}.oembedall-ljuser{font-weight:700}.oembedall-ljuser img{vertical-align:bottom;border:0;padding-right:1px}.oembedall-stoqembed{border-bottom:1px dotted #999;float:left;overflow:hidden;width:730px;line-height:1;background:#FFF;color:#000;font-family:Arial,Liberation Sans,DejaVu Sans,sans-serif;font-size:80%;text-align:left;margin:0;padding:0}.oembedall-stoqembed a{color:#07C;text-decoration:none;margin:0;padding:0}.oembedall-stoqembed a:hover{text-decoration:underline}.oembedall-stoqembed a:visited{color:#4A6B82}.oembedall-stoqembed h3{font-family:Trebuchet MS,Liberation Sans,DejaVu Sans,sans-serif;font-size:130%;font-weight:700;margin:0;padding:0}.oembedall-stoqembed .oembedall-reputation-score{color:#444;font-size:120%;font-weight:700;margin-right:2px}.oembedall-stoqembed .oembedall-user-info{height:35px;width:185px}.oembedall-stoqembed .oembedall-user-info .oembedall-user-gravatar32{float:left;height:32px;width:32px}.oembedall-stoqembed .oembedall-user-info .oembedall-user-details{float:left;margin-left:5px;overflow:hidden;white-space:nowrap;width:145px}.oembedall-stoqembed .oembedall-question-hyperlink{font-weight:700}.oembedall-stoqembed .oembedall-stats{background:#EEE;margin:0 0 0 7px;padding:4px 7px 6px;width:58px}.oembedall-stoqembed .oembedall-statscontainer{float:left;margin-right:8px;width:86px}.oembedall-stoqembed .oembedall-votes{color:#555;padding:0 0 7px;text-align:center}.oembedall-stoqembed .oembedall-vote-count-post{font-size:240%;color:#808185;display:block;font-weight:700}.oembedall-stoqembed .oembedall-views{color:#999;padding-top:4px;text-align:center}.oembedall-stoqembed .oembedall-status{margin-top:-3px;padding:4px 0;text-align:center;background:#75845C;color:#FFF}.oembedall-stoqembed .oembedall-status strong{color:#FFF;display:block;font-size:140%}.oembedall-stoqembed .oembedall-summary{float:left;width:635px}.oembedall-stoqembed .oembedall-excerpt{line-height:1.2;margin:0;padding:0 0 5px}.oembedall-stoqembed .oembedall-tags{float:left;line-height:18px}.oembedall-stoqembed .oembedall-tags a:hover{text-decoration:none}.oembedall-stoqembed .oembedall-post-tag{background-color:#E0EAF1;border-bottom:1px solid #3E6D8E;border-right:1px solid #7F9FB6;color:#3E6D8E;font-size:90%;line-height:2.4;margin:2px 2px 2px 0;padding:3px 4px;text-decoration:none;white-space:nowrap}.oembedall-stoqembed .oembedall-post-tag:hover{background-color:#3E6D8E;border-bottom:1px solid #37607D;border-right:1px solid #37607D;color:#E0EAF1}.oembedall-stoqembed .oembedall-fr{float:right}.oembedall-stoqembed .oembedall-statsarrow{background-image:url(http://cdn.sstatic.net/stackoverflow/img/sprites.png?v=3);background-repeat:no-repeat;overflow:hidden;background-position:0 -435px;float:right;height:13px;margin-top:12px;width:7px}.oembedall-facebook1{border:1px solid #1A3C6C;padding:0;font:13.34px/1.4 verdana;width:500px}.oembedall-facebook2{background-color:#627add}.oembedall-facebook2 a{color:#e8e8e8;text-decoration:none}.oembedall-facebookBody{background-color:#fff;vertical-align:top;padding:5px}.oembedall-facebookBody .contents{display:inline-block;width:100%}.oembedall-facebookBody div img{float:left;margin-right:5px}div.oembedall-lanyard{-webkit-box-shadow:none;-webkit-transition-delay:0s;-webkit-transition-duration:.4000000059604645s;-webkit-transition-property:width;-webkit-transition-timing-function:cubic-bezier(0.42,0,.58,1);background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;border-width:0;box-shadow:none;color:#112644;display:block;float:left;font-family:'Trebuchet MS',Trebuchet,sans-serif;font-size:16px;height:253px;line-height:19px;margin:0;max-width:none;min-height:0;outline:#112644 0;overflow-x:visible;overflow-y:visible;padding:0;position:relative;text-align:left;vertical-align:baseline;width:804px}div.oembedall-lanyard .tagline{font-size:1.5em}div.oembedall-lanyard .wrapper{overflow:hidden;clear:both}div.oembedall-lanyard .split{float:left;display:inline}div.oembedall-lanyard .prominent-place .flag:active,div.oembedall-lanyard .prominent-place .flag:focus,div.oembedall-lanyard .prominent-place .flag:hover,div.oembedall-lanyard .prominent-place .flag:link,div.oembedall-lanyard .prominent-place .flag:visited{float:left;display:block;width:48px;height:48px;position:relative;top:-5px;margin-right:10px}div.oembedall-lanyard .place-context{font-size:.889em}div.oembedall-lanyard .prominent-place .sub-place{display:block}div.oembedall-lanyard .prominent-place{font-size:1.125em;line-height:1.1em;font-weight:400}div.oembedall-lanyard .main-date{color:#8CB4E0;font-weight:700;line-height:1.1}div.oembedall-lanyard .first{width:48.57%;margin:0 0 0 2.857%}.mermaid .label{color:#333}.node circle,.node polygon,.node rect{fill:#cde498;stroke:#13540c;stroke-width:1px}.edgePath .path{stroke:green;stroke-width:1.5px}.cluster rect{fill:#cdffb2;rx:40;stroke:#6eaa49;stroke-width:1px}.cluster text{fill:#333}.actor{stroke:#13540c;fill:#cde498}text.actor{fill:#000;stroke:none}.actor-line{stroke:grey}.messageLine0{stroke-width:1.5;stroke-dasharray:"2 2";marker-end:"url(#arrowhead)";stroke:#333}.messageLine1{stroke-width:1.5;stroke-dasharray:"2 2";stroke:#333}#arrowhead{fill:#333}#crosshead path{fill:#333!important;stroke:#333!important}.messageText{fill:#333;stroke:none}.labelBox{stroke:#326932;fill:#cde498}.labelText,.loopText{fill:#000;stroke:none}.loopLine{stroke-width:2;stroke-dasharray:"2 2";marker-end:"url(#arrowhead)";stroke:#326932}.note{stroke:#6eaa49;fill:#fff5ad}.noteText{fill:#000;stroke:none;font-family:'trebuchet ms',verdana,arial;font-size:14px}.section{stroke:none;opacity:.2}.section0,.section2{fill:#6eaa49}.section1,.section3{fill:#fff;opacity:.2}.sectionTitle0,.sectionTitle1,.sectionTitle2,.sectionTitle3{fill:#333}.sectionTitle{text-anchor:start;font-size:11px;text-height:14px}.grid .tick{stroke:lightgrey;opacity:.3;shape-rendering:crispEdges}.grid path{stroke-width:0}.today{fill:none;stroke:red;stroke-width:2px}.task{stroke-width:2}.taskText{text-anchor:middle;font-size:11px}.taskTextOutsideRight{fill:#000;text-anchor:start;font-size:11px}.taskTextOutsideLeft{fill:#000;text-anchor:end;font-size:11px}.taskText0,.taskText1,.taskText2,.taskText3{fill:#fff}.task0,.task1,.task2,.task3{fill:#487e3a;stroke:#13540c}.taskTextOutside0,.taskTextOutside1,.taskTextOutside2,.taskTextOutside3{fill:#000}.active0,.active1,.active2,.active3{fill:#cde498;stroke:#13540c}.activeText0,.activeText1,.activeText2,.activeText3{fill:#000!important}.done0,.done1,.done2,.done3{stroke:grey;fill:lightgrey;stroke-width:2}.doneText0,.doneText1,.doneText2,.doneText3{fill:#000!important}.crit0,.crit1,.crit2,.crit3{stroke:#f88;fill:red;stroke-width:2}.activeCrit0,.activeCrit1,.activeCrit2,.activeCrit3{stroke:#f88;fill:#cde498;stroke-width:2}.doneCrit0,.doneCrit1,.doneCrit2,.doneCrit3{stroke:#f88;fill:lightgrey;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}.activeCritText0,.activeCritText1,.activeCritText2,.activeCritText3,.doneCritText0,.doneCritText1,.doneCritText2,.doneCritText3{fill:#000!important}.titleText{text-anchor:middle;font-size:18px;fill:#000}text{font-family:'trebuchet ms',verdana,arial;font-size:14px}html{height:100%}body{margin:0!important;padding:5px 20px 26px!important;background-color:#fff;font-family:"Lucida Grande","Segoe UI","Apple SD Gothic Neo","Malgun Gothic","Lucida Sans Unicode",Helvetica,Arial,sans-serif;font-size:.9em;overflow-x:hidden;overflow-y:auto}br,h1,h2,h3,h4,h5,h6{clear:both}hr.page{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x;border:0;height:3px;padding:0}hr.underscore{border-top-style:dashed!important}body >:first-child{margin-top:0!important}img.plugin{box-shadow:0 1px 3px rgba(0,0,0,.1);border-radius:3px}iframe{border:0}figure{-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0}kbd{border:1px solid #aaa;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-moz-box-shadow:1px 2px 2px #ddd;-webkit-box-shadow:1px 2px 2px #ddd;box-shadow:1px 2px 2px #ddd;background-color:#f9f9f9;background-image:-moz-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:-o-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:-webkit-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:linear-gradient(top,#eee,#f9f9f9,#eee);padding:1px 3px;font-family:inherit;font-size:.85em}.oembeded .oembed_photo{display:inline-block}img[data-echo]{margin:25px 0;width:100px;height:100px;background:url(../img/ajax.gif) center center no-repeat #fff}.spinner{display:inline-block;width:10px;height:10px;margin-bottom:-.1em;border:2px solid rgba(0,0,0,.5);border-top-color:transparent;border-radius:100%;-webkit-animation:spin 1s infinite linear;animation:spin 1s infinite linear}.spinner:after{content:'';display:block;width:0;height:0;position:absolute;top:-6px;left:0;border:4px solid transparent;border-bottom-color:rgba(0,0,0,.5);-webkit-transform:rotate(45deg);transform:rotate(45deg)}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg)}}@keyframes spin{to{transform:rotate(360deg)}}p.toc{margin:0!important}p.toc ul{padding-left:10px}p.toc>ul{padding:10px;margin:0 10px;display:inline-block;border:1px solid #ededed;border-radius:5px}p.toc li,p.toc ul{list-style-type:none}p.toc li{width:100%;padding:0;overflow:hidden}p.toc li a::after{content:"."}p.toc li a:before{content:"• "}p.toc h5{text-transform:uppercase}p.toc .title{float:left;padding-right:3px}p.toc .number{margin:0;float:right;padding-left:3px;background:#fff;display:none}input.task-list-item{margin-left:-1.62em}.markdown{font-family:"Hiragino Sans GB","Microsoft YaHei",STHeiti,SimSun,"Lucida Grande","Lucida Sans Unicode","Lucida Sans",'Segoe UI',AppleSDGothicNeo-Medium,'Malgun Gothic',Verdana,Tahoma,sans-serif;padding:20px}.markdown a{text-decoration:none;vertical-align:baseline}.markdown a:hover{text-decoration:underline}.markdown h1{font-size:2.2em;font-weight:700;margin:1.5em 0 1em}.markdown h2{font-size:1.8em;font-weight:700;margin:1.275em 0 .85em}.markdown h3{font-size:1.6em;font-weight:700;margin:1.125em 0 .75em}.markdown h4{font-size:1.4em;font-weight:700;margin:.99em 0 .66em}.markdown h5{font-size:1.2em;font-weight:700;margin:.855em 0 .57em}.markdown h6{font-size:1em;font-weight:700;margin:.75em 0 .5em}.markdown h1+p,.markdown h1:first-child,.markdown h2+p,.markdown h2:first-child,.markdown h3+p,.markdown h3:first-child,.markdown h4+p,.markdown h4:first-child,.markdown h5+p,.markdown h5:first-child,.markdown h6+p,.markdown h6:first-child{margin-top:0}.markdown hr{border:1px solid #ccc}.markdown p{margin:1em 0;word-wrap:break-word}.markdown ol{list-style-type:decimal}.markdown li{display:list-item;line-height:1.4em}.markdown blockquote{margin:1em 20px}.markdown blockquote>:first-child{margin-top:0}.markdown blockquote>:last-child{margin-bottom:0}.markdown blockquote cite:before{content:'\2014 \00A0'}.markdown .code{border-radius:3px;word-wrap:break-word}.markdown pre{border-radius:3px;word-wrap:break-word;border:1px solid #ccc;overflow:auto;padding:.5em}.markdown pre code{border:0;display:block}.markdown pre>code{font-family:Consolas,Inconsolata,Courier,monospace;font-weight:700;white-space:pre;margin:0}.markdown code{border-radius:3px;word-wrap:break-word;border:1px solid #ccc;padding:0 5px;margin:0 2px}.markdown img{max-width:100%}.markdown mark{color:#000;background-color:#fcf8e3}.markdown table{padding:0;border-collapse:collapse;border-spacing:0;margin-bottom:16px}.markdown table tr td,.markdown table tr th{border:1px solid #ccc;margin:0;padding:6px 13px}.markdown table tr th{font-weight:700}.markdown table tr th>:first-child{margin-top:0}.markdown table tr th>:last-child{margin-bottom:0}.markdown table tr td>:first-child{margin-top:0}.markdown table tr td>:last-child{margin-bottom:0}@import url(http://fonts.googleapis.com/css?family=Roboto+Condensed:300italic,400italic,700italic,400,300,700);.haroopad{padding:20px;color:#222;font-size:15px;font-family:"Roboto Condensed",Tauri,"Hiragino Sans GB","Microsoft YaHei",STHeiti,SimSun,"Lucida Grande","Lucida Sans Unicode","Lucida Sans",'Segoe UI',AppleSDGothicNeo-Medium,'Malgun Gothic',Verdana,Tahoma,sans-serif;background:#fff;line-height:1.6;-webkit-font-smoothing:antialiased}.haroopad a{color:#3269a0}.haroopad a:hover{color:#4183c4}.haroopad h2{border-bottom:1px solid #e6e6e6}.haroopad h6{color:#777}.haroopad hr{border:1px solid #e6e6e6}.haroopad blockquote>code,.haroopad h1>code,.haroopad h2>code,.haroopad h3>code,.haroopad h4>code,.haroopad h5>code,.haroopad h6>code,.haroopad li>code,.haroopad p>code,.haroopad td>code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:85%;background-color:rgba(0,0,0,.02);padding:.2em .5em;border:1px solid #efefef}.haroopad pre>code{font-size:1em;letter-spacing:-1px;font-weight:700}.haroopad blockquote{border-left:4px solid #e6e6e6;padding:0 15px;color:#777}.haroopad table{background-color:#fafafa}.haroopad table tr td,.haroopad table tr th{border:1px solid #e6e6e6}.haroopad table tr:nth-child(2n){background-color:#f2f2f2}.hljs{display:block;overflow-x:auto;padding:.5em;background:#fdf6e3;color:#657b83;-webkit-text-size-adjust:none}.diff .hljs-header,.hljs-comment,.hljs-doctype,.hljs-javadoc,.hljs-pi,.lisp .hljs-string{color:#93a1a1}.css .hljs-tag,.hljs-addition,.hljs-keyword,.hljs-request,.hljs-status,.hljs-winutils,.method,.nginx .hljs-title{color:#859900}.hljs-command,.hljs-dartdoc,.hljs-hexcolor,.hljs-link_url,.hljs-number,.hljs-phpdoc,.hljs-regexp,.hljs-rules .hljs-value,.hljs-string,.hljs-tag .hljs-value,.tex .hljs-formula{color:#2aa198}.css .hljs-function,.hljs-built_in,.hljs-chunk,.hljs-decorator,.hljs-id,.hljs-identifier,.hljs-localvars,.hljs-title,.vhdl .hljs-literal{color:#268bd2}.hljs-attribute,.hljs-class .hljs-title,.hljs-constant,.hljs-link_reference,.hljs-parent,.hljs-type,.hljs-variable,.lisp .hljs-body,.smalltalk .hljs-number{color:#b58900}.css .hljs-pseudo,.diff .hljs-change,.hljs-attr_selector,.hljs-cdata,.hljs-header,.hljs-pragma,.hljs-preprocessor,.hljs-preprocessor .hljs-keyword,.hljs-shebang,.hljs-special,.hljs-subst,.hljs-symbol,.hljs-symbol .hljs-string{color:#cb4b16}.hljs-deletion,.hljs-important{color:#dc322f}.hljs-link_label{color:#6c71c4}.tex .hljs-formula{background:#eee8d5}.MathJax_Hover_Frame{border-radius:.25em;-webkit-border-radius:.25em;-moz-border-radius:.25em;-khtml-border-radius:.25em;box-shadow:0 0 15px #83A;-webkit-box-shadow:0 0 15px #83A;-moz-box-shadow:0 0 15px #83A;-khtml-box-shadow:0 0 15px #83A;border:1px solid #A6D!important;display:inline-block;position:absolute}.MathJax_Hover_Arrow{position:absolute;width:15px;height:11px;cursor:pointer}#MathJax_About{position:fixed;left:50%;width:auto;text-align:center;border:3px outset;padding:1em 2em;background-color:#DDD;color:#000;cursor:default;font-family:message-box;font-size:120%;font-style:normal;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;z-index:201;border-radius:15px;-webkit-border-radius:15px;-moz-border-radius:15px;-khtml-border-radius:15px;box-shadow:0 10px 20px gray;-webkit-box-shadow:0 10px 20px gray;-moz-box-shadow:0 10px 20px gray;-khtml-box-shadow:0 10px 20px gray;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}.MathJax_Menu{position:absolute;background-color:#fff;color:#000;width:auto;padding:5px 0;border:1px solid #CCC;margin:0;cursor:default;font:menu;text-align:left;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;z-index:201;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;-khtml-border-radius:5px;box-shadow:0 10px 20px gray;-webkit-box-shadow:0 10px 20px gray;-moz-box-shadow:0 10px 20px gray;-khtml-box-shadow:0 10px 20px gray;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}.MathJax_MenuItem{padding:1px 2em;background:0 0}.MathJax_MenuArrow{position:absolute;right:.5em;color:#666}.MathJax_MenuActive .MathJax_MenuArrow{color:#fff}.MathJax_MenuArrow.RTL{left:.5em;right:auto}.MathJax_MenuCheck{position:absolute;left:.7em}.MathJax_MenuCheck.RTL{right:.7em;left:auto}.MathJax_MenuRadioCheck{position:absolute;left:.7em}.MathJax_MenuRadioCheck.RTL{right:.7em;left:auto}.MathJax_MenuLabel{padding:1px 2em 3px 1.33em;font-style:italic}.MathJax_MenuRule{border-top:1px solid #DDD;margin:4px 3px}.MathJax_MenuDisabled{color:GrayText}.MathJax_MenuActive{background-color:#606872;color:#fff}.MathJax_Menu_Close{position:absolute;width:31px;height:31px;top:-15px;left:-15px}#MathJax_Zoom{position:absolute;background-color:#F0F0F0;overflow:auto;display:block;z-index:301;padding:.5em;border:1px solid #000;margin:0;font-weight:400;font-style:normal;text-align:left;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;box-shadow:5px 5px 15px #AAA;-webkit-box-shadow:5px 5px 15px #AAA;-moz-box-shadow:5px 5px 15px #AAA;-khtml-box-shadow:5px 5px 15px #AAA;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}#MathJax_ZoomOverlay{position:absolute;left:0;top:0;z-index:300;display:inline-block;width:100%;height:100%;border:0;padding:0;margin:0;background-color:#fff;opacity:0;filter:alpha(opacity=0)}#MathJax_ZoomFrame{position:relative;display:inline-block;height:0;width:0}#MathJax_ZoomEventTrap{position:absolute;left:0;top:0;z-index:302;display:inline-block;border:0;padding:0;margin:0;background-color:#fff;opacity:0;filter:alpha(opacity=0)}.MathJax_Preview{color:#888}#MathJax_Message{position:fixed;left:1px;bottom:2px;background-color:#E6E6E6;border:1px solid #959595;margin:0;padding:2px 8px;z-index:102;color:#000;font-size:80%;width:auto;white-space:nowrap}#MathJax_MSIE_Frame{position:absolute;top:0;left:0;width:0;z-index:101;border:0;margin:0;padding:0}.MathJax_Error{color:#C00;font-style:italic}.MathJax_Display{text-align:center;margin:1em 0;position:relative;display:block!important;text-indent:0;max-width:none;max-height:none;min-width:0;min-height:0;width:100%}.MathJax .merror{background-color:#FF8;color:#C00;border:1px solid #C00;padding:1px 3px;font-style:normal;font-size:90%}.MathJax .MJX-monospace{font-family:monospace}.MathJax .MJX-sans-serif{font-family:sans-serif}#MathJax_Tooltip{background-color:InfoBackground;color:InfoText;border:1px solid #000;box-shadow:2px 2px 5px #AAA;-webkit-box-shadow:2px 2px 5px #AAA;-moz-box-shadow:2px 2px 5px #AAA;-khtml-box-shadow:2px 2px 5px #AAA;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true');padding:3px 4px;z-index:401;position:absolute;left:0;top:0;width:auto;height:auto;display:none}.MathJax{display:inline;font-style:normal;font-weight:400;line-height:normal;font-size:100%;font-size-adjust:none;text-indent:0;text-align:left;text-transform:none;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;direction:ltr;max-width:none;max-height:none;min-width:0;min-height:0;border:0;padding:0;margin:0}.MathJax a,.MathJax img,.MathJax nobr{border:0;padding:0;margin:0;max-width:5000em;max-height:5000em;min-width:0;min-height:0;vertical-align:0;line-height:normal;text-decoration:none}img.MathJax_strut{border:0!important;padding:0!important;margin:0!important;vertical-align:0!important}.MathJax span{display:inline;position:static;border:0;padding:0;margin:0;vertical-align:0;line-height:normal;text-decoration:none}.MathJax nobr{white-space:nowrap!important}.MathJax img{display:inline!important;float:none!important}.MathJax *{transition:none;-webkit-transition:none;-moz-transition:none;-ms-transition:none;-o-transition:none}.MathJax_Processing{visibility:hidden;position:fixed;width:0;height:0;overflow:hidden}.MathJax_Processed{display:none!important}.MathJax_ExBox{display:block!important;overflow:hidden;width:1px;height:60ex;min-height:0;max-height:none}.MathJax .MathJax_EmBox{display:block!important;overflow:hidden;width:1px;height:60em;min-height:0;max-height:none}.MathJax .MathJax_HitBox{cursor:text;background:#fff;opacity:0;filter:alpha(opacity=0)}#MathJax_Tooltip *,.MathJax .MathJax_HitBox *{filter:none;opacity:1;background:0 0}@font-face{font-family:MathJax_Blank;src:url(about:blank)}.MathJax .noError{font-size:90%;text-align:left;color:#000;padding:1px 3px;border:1px solid}footer{position:fixed;font-size:.8em;text-align:right;bottom:0;margin-left:-25px;height:20px;width:100%}</style>
</head>
<body class="markdown haroopad">
<h1 id="domain-adaprive-faster-r-cnn-for-object-detection-in-the-wild"><a name="domain-adaprive-faster-r-cnn-for-object-detection-in-the-wild" href="#domain-adaprive-faster-r-cnn-for-object-detection-in-the-wild"></a>Domain Adaprive Faster R-CNN for Object Detection in the Wild</h1><h2 id="들어가기-앞서"><a name="들어가기-앞서" href="#들어가기-앞서"></a>들어가기 앞서</h2><p><strong>Paper URL</strong>  : <a href="https://arxiv.org/pdf/1803.03243.pdf"></a><a href="https://arxiv.org/pdf/1803.03243.pdf">https://arxiv.org/pdf/1803.03243.pdf</a><br><strong>Paper Info</strong> : Yuhua Chen, Wen Li, Chistos Sakaridis, Dengxin Dai, Luc Van Gool (CVPR 2018)<br><strong>References</strong></p><ul>
<li><a href="http://jaejunyoo.blogspot.com/2017/01/domain-adversarial-training-of-neural.html"></a><a href="http://jaejunyoo.blogspot.com/2017/01/domain-adversarial-training-of-neural.html">http://jaejunyoo.blogspot.com/2017/01/domain-adversarial-training-of-neural.html</a> : DANN 에 대하여 잘 설명해주신 사이트입니다.</li><li><a href="http://theonly1.tistory.com/301"></a><a href="http://theonly1.tistory.com/301">http://theonly1.tistory.com/301</a> : 마찬가지로 Domain adaptation 에 대하여 잘 설명해주신 사이트입니다.</li><li><a href="url"></a><a href="https://arxiv.org/abs/1505.07818">https://arxiv.org/abs/1505.07818</a> : Domain-adverarial training of neural networks 논문입니다.</li></ul><h2 id="abstract-(원문-번역)"><a name="abstract-(원문-번역)" href="#abstract-(원문-번역)"></a>Abstract (원문 번역)</h2><p>Object detection은 일반적으로 training과 test data들이 identical distributed한 환경에서 뽑혔다고 가정하는데, 이는 실제로는 항상 가능한 일은 아니다. 그러한 distribution 불일치는 상당항 성능저하를 유발한다. 본 연구에서 우리는, object detection의 cross-domain robustness를 향상시키는것을 목적으로 한다. 우리는 domain shift를 두 수준으로 다룬다:</p><ul>
<li>the image-level shift : 이미지 스타일, illumination(광학요소), 등등</li><li>the instance-level shift : 물체의 외양, 크기 등등</li></ul><p>우리는 최근의 state-of-the-art 모델인 Faster R-CNN 을 기반으로 연구를 진행하였으며, domain discrepancy를 줄이기 위하여 image level과 instance level에서의 두가지로 domain adaptation component들을 설계하였다. 두 domain adaptation component들은 <img src="http://latex.codecogs.com/gif.latex?%5Cinline%20%5Cmathcal%7BH%7D-divergence" alt=""> <!--$$ \mathcal{H}-divergence$$ --> 이론에 기반하며, adversarial training 방식으로 domain classifier를 학습시키는것으로 구현되었다. 다른 level의 Domain classifier들은 consistency regularization에 의하여 더 강하게 Faster R-CNN의 region proposal network(RPN)을 학습하도록 강제될 수 있다. 우리는 우리가 제안한 새로운 접근법을 Cityscapes, KITTI, SIM10K, 등을 포함한 여러가지 데이터셋들을 사용하여 평가하였다. 결과는 우리가 제안한 기법이 다양한 domain shift 시나리오에도 강경하게 object detection을 수행할 수 있음을 보여주었다.</p><h2 id="1.introduction"><a name="1.introduction" href="#1.introduction"></a>1.Introduction</h2><p>Object Detection은 CNN의 발전에 힘입어 상당한 성능향상을 보여왔습니다. 하지만 여전히 training과 test데이터셋 사이에 상당항 domain shift를 일으킬수있는 view-points, object appearance, backgrounds, illumination, image quality, 등등 에서의 큰 변화에도 강경할 수 있는지는 도전적인 문제로 남아있습니다. 논문에서 사용한 예시와 같이 자율주행 차량의 경우를 생각해본다면, 학습할때 사용했던 이미지를 찍었을때의 카메라 상태와 주변 환경(날씨 등)은 실제로 주행할때의 상태와는 다를것입니다. 이러한 경우 ‘domain shift’가 발생하며 detection 성능을 저하 시킬 것입니다. Fig1을 통하여 실제로 각 데이터셋 별로 환경의 차이를 확인할 수 있습니다.</p><p align="center"><br><img src="https://raw.githubusercontent.com/ppooiiuuyh/-Papers-References/master/domain%20adaptive%20faster%20r-cnn%20for%20object%20detection%20in%20the%20wild/fig1.png" width="300"><br></p><p>더 많고 다양한 환경을 가정하는 학습 데이터를 모으는것은 이러한 domain shift문제를 해결 할 수 있는 방법일 수 있지만 이는 굉자히 비용이 많이드는 작업입니다. 따라서 이러한 문제를 알고리즘수준으로 해결하기 위한것이 이 논문 및 domain adaptation분야의 핵심 목표입니다. 다시 정리하자면 Train set과 Test set간의 domain shift를 줄이는것이 목표입니다. 당연한 말이지만 이 논문에서 저자는 training 셋에 대하여는 지도학습을, target domain에 대하여는 지도학습이 불가능한(비지도학습을 하는) 시나리오에서의 domain adaptation을 고려하고 있습니다. 그렇기 때문에 어떠한 추가적인 annotation cost없이 문제를 완화할 수 있는 기법을 다루고자 하였습니다. 본 논문에서 저자는 기존의 Faster R-CNN object detection model을 기반으로 연구를 진행하였습니다. 따라서 이를 이해하기 위해서는 Faster R-CNN에 대하여 이해하는것이 좋습니다만 본 리뷰에서 다루지는 않을것입니다. 대신에 Faster R-CNN은 유명한 만큼 [<a href="http://judelee19.github.io/machine_learning/faster_rcnn/">link</a>] 등의 많은 정리 글이 있으므로 이쪽을 추천드립니다!.</p><p>다시 돌아와서, 저자는 domain shift문제를 해결하기 위해서 두 domain (training, target) 간의  <img src="http://latex.codecogs.com/gif.latex?%5Cinline%20%5Cmathcal%7BH%7D-divergence" alt=""> <!--$$ \mathcal{H}-divergence$$ --> 를 줄이는 방법을 사용하였습니다. 이때 domain clssifier와 detector를 adversarial 하게 학습시키는데, 여기 까지는 <a href="https://arxiv.org/abs/1505.07818"></a><a href="https://arxiv.org/abs/1505.07818">https://arxiv.org/abs/1505.07818</a> 이 논문과 같습니다. 본 논문의 핵심 contribution은</p><ol>
<li>확률론적 측면에서 cross-domain object detection문제를 이론적으로 분석하였으며</li><li>image 수준, instance 수준에서 domain discrepancy를 완화시킬수 있는 두 domain daptation component들을 설계한것</li><li>consistency regulatization을 사용하여  RPN을 더욱 domain invariant하게 만드는 방법을 제시한것</li><li>이 모든 방법들을 Faster R-CNN에 통합하여 end-to-end 방식으로 학습시킬 수 있도록 설계한 것</li></ol><p>입니다. 개인적으로는 4번이 가장 큰 기여가 아닐까 생각합니다.</p><h2 id="2.-related-work"><a name="2.-related-work" href="#2.-related-work"></a>2. Related Work</h2><ul>
<li><strong>Object Detection</strong></li><li><strong>Domain Adaptation</strong></li><li><strong>Domain Adaptation Beyond Clssification :</strong> doamin adatpation문제가 주로 classification에서 다루어지며 그 밖의 vision task에 대하여는 잘 안다루지고 있다는 이야기 입니다. 몇몇 연구들을 소개하고있습니다.</li></ul><h2 id="3.-preliminaries"><a name="3.-preliminaries" href="#3.-preliminaries"></a>3. Preliminaries</h2><h4 id="3.1-faster-r-cnn"><a name="3.1-faster-r-cnn" href="#3.1-faster-r-cnn"></a>3.1 Faster R-CNN</h4><h4 id="3.2-distribution-alignment-with-![](http://latex.codecogs.com/gif.latex?%5cinline%20%5cmathcal%7bh%7d-divergence)"><a name="3.2-distribution-alignment-with-![](http://latex.codecogs.com/gif.latex?%5cinline%20%5cmathcal%7bh%7d-divergence)" href="#3.2-distribution-alignment-with-![](http://latex.codecogs.com/gif.latex?%5cinline%20%5cmathcal%7bh%7d-divergence)"></a>3.2 Distribution Alignment with  <img src="http://latex.codecogs.com/gif.latex?%5Cinline%20%5Cmathcal%7BH%7D-divergence" alt=""> <!--$$ \mathcal{H}-divergence$$ --></h4><p><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3588-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42513" style="width: 7.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.448em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.159em 1000em 3.375em -0.451em); top: -3.005em; left: 0em;"><span class="mrow" id="MathJax-Span-42514"><span class="texatom" id="MathJax-Span-42515"><span class="mrow" id="MathJax-Span-42516"><span class="mi" id="MathJax-Span-42517" style="font-family: STIXNonUnicode; font-style: italic;"><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span></span></span><span class="mo" id="MathJax-Span-42518" style="font-family: STIXGeneral; padding-left: 0.25em;">−</span><span class="mi" id="MathJax-Span-42519" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.25em;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.027em;"></span></span><span class="mi" id="MathJax-Span-42520" style="font-family: STIXGeneral; font-style: italic;">i</span><span class="mi" id="MathJax-Span-42521" style="font-family: STIXGeneral; font-style: italic;">v</span><span class="mi" id="MathJax-Span-42522" style="font-family: STIXGeneral; font-style: italic;">e</span><span class="mi" id="MathJax-Span-42523" style="font-family: STIXGeneral; font-style: italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mi" id="MathJax-Span-42524" style="font-family: STIXGeneral; font-style: italic;">g</span><span class="mi" id="MathJax-Span-42525" style="font-family: STIXGeneral; font-style: italic;">e</span><span class="mi" id="MathJax-Span-42526" style="font-family: STIXGeneral; font-style: italic;">n</span><span class="mi" id="MathJax-Span-42527" style="font-family: STIXGeneral; font-style: italic;">c</span><span class="mi" id="MathJax-Span-42528" style="font-family: STIXGeneral; font-style: italic;">e</span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.218em; vertical-align: -0.318em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3588">\mathcal{H}-divergence</script>에 관한 설명입니다. 이는 간단히 말해서 두 domain간의 divergence를 수치적으로 나타내기 위한 방법입니다. 여기서 domain이란 sample 이라고 생각하면 될것같습니다. 더 직관적으로 각 데이터셋을 의미한다고 생각할 수 있습니다. feature vector를 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3589-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42529" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.519em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-42530"><span class="mi" id="MathJax-Span-42531" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3589">x</script> 라고 표현한다면 source domain의 feature vector를 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3590-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42532" style="width: 1.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.929em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.526em 1000em 2.454em -0.519em); top: -2.131em; left: 0em;"><span class="mrow" id="MathJax-Span-42533"><span class="msubsup" id="MathJax-Span-42534"><span style="display: inline-block; position: relative; width: 0.892em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.519em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-42535" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.489em;"><span class="texatom" id="MathJax-Span-42536"><span class="mrow" id="MathJax-Span-42537"><span class="mi" id="MathJax-Span-42538" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">s</span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.131em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.866em; vertical-align: -0.261em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3590">x_{s}</script>, target domain의 것을 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3591-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42539" style="width: 1.017em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.82em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.526em 1000em 2.453em -0.519em); top: -2.131em; left: 0em;"><span class="mrow" id="MathJax-Span-42540"><span class="msubsup" id="MathJax-Span-42541"><span style="display: inline-block; position: relative; width: 0.782em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.519em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-42542" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.489em;"><span class="texatom" id="MathJax-Span-42543"><span class="mrow" id="MathJax-Span-42544"><span class="mi" id="MathJax-Span-42545" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.131em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.864em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3591">x_{t}</script>으로 표현 할 수 있습니다. 그리고 여기에 추가로 x가 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3592-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42546" style="width: 1.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.929em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.526em 1000em 2.454em -0.519em); top: -2.131em; left: 0em;"><span class="mrow" id="MathJax-Span-42547"><span class="msubsup" id="MathJax-Span-42548"><span style="display: inline-block; position: relative; width: 0.892em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.519em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-42549" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.489em;"><span class="texatom" id="MathJax-Span-42550"><span class="mrow" id="MathJax-Span-42551"><span class="mi" id="MathJax-Span-42552" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">s</span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.131em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.866em; vertical-align: -0.261em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3592">x_{s}</script> 에 속하는지 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3593-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42553" style="width: 1.017em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.82em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.526em 1000em 2.453em -0.519em); top: -2.131em; left: 0em;"><span class="mrow" id="MathJax-Span-42554"><span class="msubsup" id="MathJax-Span-42555"><span style="display: inline-block; position: relative; width: 0.782em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.519em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-42556" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.489em;"><span class="texatom" id="MathJax-Span-42557"><span class="mrow" id="MathJax-Span-42558"><span class="mi" id="MathJax-Span-42559" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.131em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.864em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3593">x_{t}</script>에 속하는지를 판별하는 분류기 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3594-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42560" style="width: 0.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.546em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.632em -0.473em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-42561"><span class="mi" id="MathJax-Span-42562" style="font-family: STIXGeneral; font-style: italic;">h</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.978em; vertical-align: -0.078em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3594">h</script> 가 있고 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3595-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42563" style="width: 6.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.628em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.804em -0.473em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-42564"><span class="mi" id="MathJax-Span-42565" style="font-family: STIXGeneral; font-style: italic;">h</span><span class="mo" id="MathJax-Span-42566" style="font-family: STIXGeneral; padding-left: 0.313em;">:</span><span class="mi" id="MathJax-Span-42567" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.313em;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-42568" style="font-family: STIXGeneral; padding-left: 0.313em;">→</span><span class="mo" id="MathJax-Span-42569" style="font-family: STIXGeneral; padding-left: 0.313em;">{</span><span class="mn" id="MathJax-Span-42570" style="font-family: STIXGeneral;">0</span><span class="mo" id="MathJax-Span-42571" style="font-family: STIXGeneral;">,</span><span class="mn" id="MathJax-Span-42572" style="font-family: STIXGeneral; padding-left: 0.188em;">1</span><span class="mo" id="MathJax-Span-42573" style="font-family: STIXGeneral;">}</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.187em; vertical-align: -0.287em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3595">h:x \rightarrow \{0,1\}</script> 로 표현합니다. 이제 <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3596-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42574" style="width: 7.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.448em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.159em 1000em 3.375em -0.451em); top: -3.005em; left: 0em;"><span class="mrow" id="MathJax-Span-42575"><span class="texatom" id="MathJax-Span-42576"><span class="mrow" id="MathJax-Span-42577"><span class="mi" id="MathJax-Span-42578" style="font-family: STIXNonUnicode; font-style: italic;"><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span></span></span><span class="mo" id="MathJax-Span-42579" style="font-family: STIXGeneral; padding-left: 0.25em;">−</span><span class="mi" id="MathJax-Span-42580" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.25em;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.027em;"></span></span><span class="mi" id="MathJax-Span-42581" style="font-family: STIXGeneral; font-style: italic;">i</span><span class="mi" id="MathJax-Span-42582" style="font-family: STIXGeneral; font-style: italic;">v</span><span class="mi" id="MathJax-Span-42583" style="font-family: STIXGeneral; font-style: italic;">e</span><span class="mi" id="MathJax-Span-42584" style="font-family: STIXGeneral; font-style: italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mi" id="MathJax-Span-42585" style="font-family: STIXGeneral; font-style: italic;">g</span><span class="mi" id="MathJax-Span-42586" style="font-family: STIXGeneral; font-style: italic;">e</span><span class="mi" id="MathJax-Span-42587" style="font-family: STIXGeneral; font-style: italic;">n</span><span class="mi" id="MathJax-Span-42588" style="font-family: STIXGeneral; font-style: italic;">c</span><span class="mi" id="MathJax-Span-42589" style="font-family: STIXGeneral; font-style: italic;">e</span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.218em; vertical-align: -0.318em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3596">\mathcal{H}-divergence</script> 는 아래와 같이 표현됩니다.

<span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-3597-Frame"><nobr><span class="math" id="MathJax-Span-42590" style="width: 24.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 20.328em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.121em 1000em 3.346em -0.477em); top: -3.005em; left: 0em;"><span class="mrow" id="MathJax-Span-42591"><span class="msubsup" id="MathJax-Span-42592"><span style="display: inline-block; position: relative; width: 1.196em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.636em -0.477em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-42593" style="font-family: STIXGeneral; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.027em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.519em;"><span class="texatom" id="MathJax-Span-42594"><span class="mrow" id="MathJax-Span-42595"><span class="texatom" id="MathJax-Span-42596"><span class="mrow" id="MathJax-Span-42597"><span class="mi" id="MathJax-Span-42598" style="font-size: 70.7%; font-family: STIXNonUnicode; font-style: italic;"><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.01em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span><span class="mo" id="MathJax-Span-42599" style="font-family: STIXGeneral;">(</span><span class="texatom" id="MathJax-Span-42600"><span class="mrow" id="MathJax-Span-42601"><span class="mi" id="MathJax-Span-42602" style="font-family: STIXNonUnicode; font-style: italic;"><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.037em;"></span></span><span class="mo" id="MathJax-Span-42603" style="font-family: STIXGeneral; font-style: italic;">,</span><span class="mi" id="MathJax-Span-42604" style="font-family: STIXNonUnicode; font-style: italic; padding-left: 0.188em;"><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.221em;"></span></span></span></span><span class="mo" id="MathJax-Span-42605" style="font-family: STIXGeneral;">)</span><span class="mo" id="MathJax-Span-42606" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-42607" style="font-family: STIXGeneral; padding-left: 0.313em;">2</span><span class="mo" id="MathJax-Span-42608" style="font-family: STIXGeneral;">(</span><span class="mn" id="MathJax-Span-42609" style="font-family: STIXGeneral;">1</span><span class="mo" id="MathJax-Span-42610" style="font-family: STIXGeneral; padding-left: 0.25em;">−</span><span class="msubsup" id="MathJax-Span-42611" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 3.08em; height: 0px;"><span style="position: absolute; clip: rect(1.641em 1000em 2.634em -0.48em); top: -2.459em; left: 0em;"><span class="texatom" id="MathJax-Span-42612"><span class="mrow" id="MathJax-Span-42613"><span class="mi" id="MathJax-Span-42614" style="font-family: STIXGeneral; font-style: italic;">m</span><span class="mi" id="MathJax-Span-42615" style="font-family: STIXGeneral; font-style: italic;">i</span><span class="mi" id="MathJax-Span-42616" style="font-family: STIXGeneral; font-style: italic;">n</span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.254em; left: 1.53em;"><span class="texatom" id="MathJax-Span-42617"><span class="mrow" id="MathJax-Span-42618"><span class="mi" id="MathJax-Span-42619" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">h</span><span class="mo" id="MathJax-Span-42620" style="font-size: 70.7%; font-family: STIXGeneral;">∈</span><span class="texatom" id="MathJax-Span-42621"><span class="mrow" id="MathJax-Span-42622"><span class="mi" id="MathJax-Span-42623" style="font-size: 70.7%; font-family: STIXNonUnicode; font-style: italic;"><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.01em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span><span class="mo" id="MathJax-Span-42624" style="font-family: STIXGeneral;">(</span><span class="msubsup" id="MathJax-Span-42625"><span style="display: inline-block; position: relative; width: 1.746em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.461em); top: -2.459em; left: 0em;"><span class="texatom" id="MathJax-Span-42626"><span class="mrow" id="MathJax-Span-42627"><span class="mi" id="MathJax-Span-42628" style="font-family: STIXGeneral; font-style: italic;">e</span><span class="mi" id="MathJax-Span-42629" style="font-family: STIXGeneral; font-style: italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mi" id="MathJax-Span-42630" style="font-family: STIXGeneral; font-style: italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 1.288em;"><span class="texatom" id="MathJax-Span-42631"><span class="mrow" id="MathJax-Span-42632"><span class="mi" id="MathJax-Span-42633" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-42634" style="font-family: STIXGeneral;">(</span><span class="mi" id="MathJax-Span-42635" style="font-family: STIXGeneral; font-style: italic;">h</span><span class="mo" id="MathJax-Span-42636" style="font-family: STIXGeneral;">(</span><span class="mi" id="MathJax-Span-42637" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-42638" style="font-family: STIXGeneral;">)</span><span class="mo" id="MathJax-Span-42639" style="font-family: STIXGeneral; padding-left: 0.25em;">+</span><span class="msubsup" id="MathJax-Span-42640" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.801em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.461em); top: -2.459em; left: 0em;"><span class="texatom" id="MathJax-Span-42641"><span class="mrow" id="MathJax-Span-42642"><span class="mi" id="MathJax-Span-42643" style="font-family: STIXGeneral; font-style: italic;">e</span><span class="mi" id="MathJax-Span-42644" style="font-family: STIXGeneral; font-style: italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mi" id="MathJax-Span-42645" style="font-family: STIXGeneral; font-style: italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 1.288em;"><span class="texatom" id="MathJax-Span-42646"><span class="mrow" id="MathJax-Span-42647"><span class="mi" id="MathJax-Span-42648" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-42649" style="font-family: STIXGeneral;">(</span><span class="mi" id="MathJax-Span-42650" style="font-family: STIXGeneral; font-style: italic;">h</span><span class="mo" id="MathJax-Span-42651" style="font-family: STIXGeneral;">(</span><span class="mi" id="MathJax-Span-42652" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-42653" style="font-family: STIXGeneral;">)</span><span class="mo" id="MathJax-Span-42654" style="font-family: STIXGeneral;">)</span><span class="mo" id="MathJax-Span-42655" style="font-family: STIXGeneral;">)</span><span class="mo" id="MathJax-Span-42656" style="font-family: STIXGeneral;">)</span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.229em; vertical-align: -0.283em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-3597">d_{\mathcal{H}}(\mathcal{S,T}) = 2( 1 - {min}_{h\in\mathcal{H}} ({err}_{S}(h(x) + {err}_{T}(h(x))))</script><p></p><p>보면 h가 <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3598-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42657" style="width: 1.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.929em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.526em 1000em 2.454em -0.519em); top: -2.131em; left: 0em;"><span class="mrow" id="MathJax-Span-42658"><span class="msubsup" id="MathJax-Span-42659"><span style="display: inline-block; position: relative; width: 0.892em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.519em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-42660" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.489em;"><span class="texatom" id="MathJax-Span-42661"><span class="mrow" id="MathJax-Span-42662"><span class="mi" id="MathJax-Span-42663" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">s</span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.131em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.866em; vertical-align: -0.261em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3598">x_{s}</script></span>를 오인할 확률과  <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3599-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42664" style="width: 1.017em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.82em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.526em 1000em 2.453em -0.519em); top: -2.131em; left: 0em;"><span class="mrow" id="MathJax-Span-42665"><span class="msubsup" id="MathJax-Span-42666"><span style="display: inline-block; position: relative; width: 0.782em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.519em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-42667" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.489em;"><span class="texatom" id="MathJax-Span-42668"><span class="mrow" id="MathJax-Span-42669"><span class="mi" id="MathJax-Span-42670" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.131em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.864em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3599">x_{t}</script></span>를 오인할 확률을 더한값을 1에서 빼고 2를 곱한것입니다. 이때 두 도메인 샘을에 대한 분류기 h들의 집합 <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3600-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42671" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.178em 1000em 3.19em -0.451em); top: -3.005em; left: 0em;"><span class="mrow" id="MathJax-Span-42672"><span class="texatom" id="MathJax-Span-42673"><span class="mrow" id="MathJax-Span-42674"><span class="mi" id="MathJax-Span-42675" style="font-family: STIXNonUnicode; font-style: italic;"><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.969em; vertical-align: -0.092em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3600">\mathcal{H}</script></span> 에 속해있는 모든 h들에 대한 에러율 중 가장 작은 값만을 사용합니다. 여기서 나타나는 특징은 <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3601-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42676" style="width: 4.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.716em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.121em 1000em 3.346em -0.477em); top: -3.005em; left: 0em;"><span class="mrow" id="MathJax-Span-42677"><span class="msubsup" id="MathJax-Span-42678"><span style="display: inline-block; position: relative; width: 1.196em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.636em -0.477em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-42679" style="font-family: STIXGeneral; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.027em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.519em;"><span class="texatom" id="MathJax-Span-42680"><span class="mrow" id="MathJax-Span-42681"><span class="texatom" id="MathJax-Span-42682"><span class="mrow" id="MathJax-Span-42683"><span class="mi" id="MathJax-Span-42684" style="font-size: 70.7%; font-family: STIXNonUnicode; font-style: italic;"><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.01em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span><span class="mo" id="MathJax-Span-42685" style="font-family: STIXGeneral;">(</span><span class="texatom" id="MathJax-Span-42686"><span class="mrow" id="MathJax-Span-42687"><span class="mi" id="MathJax-Span-42688" style="font-family: STIXNonUnicode; font-style: italic;"><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.037em;"></span></span><span class="mo" id="MathJax-Span-42689" style="font-family: STIXGeneral; font-style: italic;">,</span><span class="mi" id="MathJax-Span-42690" style="font-family: STIXNonUnicode; font-style: italic; padding-left: 0.188em;"><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.221em;"></span></span></span></span><span class="mo" id="MathJax-Span-42691" style="font-family: STIXGeneral;">)</span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.229em; vertical-align: -0.283em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3601">d_{\mathcal{H}}(\mathcal{S,T})</script></span>와 <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3602-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42692" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.178em 1000em 3.19em -0.451em); top: -3.005em; left: 0em;"><span class="mrow" id="MathJax-Span-42693"><span class="texatom" id="MathJax-Span-42694"><span class="mrow" id="MathJax-Span-42695"><span class="mi" id="MathJax-Span-42696" style="font-family: STIXNonUnicode; font-style: italic;"><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.014em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.969em; vertical-align: -0.092em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3602">\mathcal{H}</script></span>은 서로 반비례관계에 있다는것입니다.</p><p>일반적으로 deep neural network 기반의 모델에서의 feature vector <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3603-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42697" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.519em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-42698"><span class="mi" id="MathJax-Span-42699" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.685em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3603">x</script></span>는  특정 레이어에서의 활성화함수 <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3604-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42700" style="width: 0.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.437em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.617em 1000em 2.83em -0.639em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-42701"><span class="mi" id="MathJax-Span-42702" style="font-family: STIXGeneral; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.213em; vertical-align: -0.319em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3604">f</script></span>를 거쳐서 나온 값입니다. 따라서 결과적으로 우리의 목적은 두 도메인같의 distance <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3605-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42703" style="width: 4.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.716em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.121em 1000em 3.346em -0.477em); top: -3.005em; left: 0em;"><span class="mrow" id="MathJax-Span-42704"><span class="msubsup" id="MathJax-Span-42705"><span style="display: inline-block; position: relative; width: 1.196em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.636em -0.477em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-42706" style="font-family: STIXGeneral; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.027em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.519em;"><span class="texatom" id="MathJax-Span-42707"><span class="mrow" id="MathJax-Span-42708"><span class="texatom" id="MathJax-Span-42709"><span class="mrow" id="MathJax-Span-42710"><span class="mi" id="MathJax-Span-42711" style="font-size: 70.7%; font-family: STIXNonUnicode; font-style: italic;"><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.01em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span><span class="mo" id="MathJax-Span-42712" style="font-family: STIXGeneral;">(</span><span class="texatom" id="MathJax-Span-42713"><span class="mrow" id="MathJax-Span-42714"><span class="mi" id="MathJax-Span-42715" style="font-family: STIXNonUnicode; font-style: italic;"><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.037em;"></span></span><span class="mo" id="MathJax-Span-42716" style="font-family: STIXGeneral; font-style: italic;">,</span><span class="mi" id="MathJax-Span-42717" style="font-family: STIXNonUnicode; font-style: italic; padding-left: 0.188em;"><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.221em;"></span></span></span></span><span class="mo" id="MathJax-Span-42718" style="font-family: STIXGeneral;">)</span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.229em; vertical-align: -0.283em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3605">d_{\mathcal{H}}(\mathcal{S,T})</script></span> 를 작게 만드는 <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3606-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42719" style="width: 0.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.437em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.617em 1000em 2.83em -0.639em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-42720"><span class="mi" id="MathJax-Span-42721" style="font-family: STIXGeneral; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.213em; vertical-align: -0.319em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3606">f</script></span>를 얻는 것입니다. 이를 식으로 표현하면 다음과 같아집니다. </p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-3607-Frame"><nobr><span class="math" id="MathJax-Span-42722" style="width: 25.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 20.601em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.121em 1000em 4.102em -0.48em); top: -3.005em; left: 0em;"><span class="mrow" id="MathJax-Span-42723"><span class="munder" id="MathJax-Span-42724"><span style="display: inline-block; position: relative; width: 1.53em; height: 0px;"><span style="position: absolute; clip: rect(1.641em 1000em 2.634em -0.48em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-42725"><span class="mi" id="MathJax-Span-42726" style="font-family: STIXGeneral; font-style: italic;">m</span><span class="mi" id="MathJax-Span-42727" style="font-family: STIXGeneral; font-style: italic;">i</span><span class="mi" id="MathJax-Span-42728" style="font-family: STIXGeneral; font-style: italic;">n</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.597em 1000em 2.651em -0.596em); top: -1.554em; left: 0.628em;"><span class="mi" id="MathJax-Span-42729" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mtext" id="MathJax-Span-42730" style="font-family: STIXGeneral;">&nbsp;</span><span class="msubsup" id="MathJax-Span-42731"><span style="display: inline-block; position: relative; width: 1.196em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.636em -0.477em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-42732" style="font-family: STIXGeneral; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.027em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.519em;"><span class="texatom" id="MathJax-Span-42733"><span class="mrow" id="MathJax-Span-42734"><span class="texatom" id="MathJax-Span-42735"><span class="mrow" id="MathJax-Span-42736"><span class="mi" id="MathJax-Span-42737" style="font-size: 70.7%; font-family: STIXNonUnicode; font-style: italic;"><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.01em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span><span class="mo" id="MathJax-Span-42738" style="font-family: STIXGeneral;">(</span><span class="texatom" id="MathJax-Span-42739"><span class="mrow" id="MathJax-Span-42740"><span class="mi" id="MathJax-Span-42741" style="font-family: STIXNonUnicode; font-style: italic;"><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.037em;"></span></span><span class="mo" id="MathJax-Span-42742" style="font-family: STIXGeneral; font-style: italic;">,</span><span class="mi" id="MathJax-Span-42743" style="font-family: STIXNonUnicode; font-style: italic; padding-left: 0.188em;"><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.221em;"></span></span></span></span><span class="mo" id="MathJax-Span-42744" style="font-family: STIXGeneral;">)</span><span class="mo" id="MathJax-Span-42745" style="font-family: STIXGeneral; padding-left: 0.313em;">↔</span><span class="munder" id="MathJax-Span-42746" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.749em; height: 0px;"><span style="position: absolute; clip: rect(1.835em 1000em 2.633em -0.476em); top: -2.459em; left: 0em;"><span class="mo" id="MathJax-Span-42747" style="font-family: STIXGeneral;">max</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.597em 1000em 2.651em -0.596em); top: -1.555em; left: 0.738em;"><span class="mi" id="MathJax-Span-42748" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.103em;"></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="munder" id="MathJax-Span-42749" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.585em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.476em); top: -2.459em; left: 0em;"><span class="mo" id="MathJax-Span-42750" style="font-family: STIXGeneral;">min</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.757em 1000em 2.687em -0.478em); top: -1.729em; left: 0.055em;"><span class="mrow" id="MathJax-Span-42751"><span class="mi" id="MathJax-Span-42752" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">h</span><span class="mo" id="MathJax-Span-42753" style="font-size: 70.7%; font-family: STIXGeneral;">∈</span><span class="texatom" id="MathJax-Span-42754"><span class="mrow" id="MathJax-Span-42755"><span class="mi" id="MathJax-Span-42756" style="font-size: 70.7%; font-family: STIXNonUnicode; font-style: italic;"><span style="display: inline-block; overflow: hidden; height: 1px; width: 0.01em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span><span class="mo" id="MathJax-Span-42757" style="font-family: STIXGeneral;">{</span><span class="msubsup" id="MathJax-Span-42758"><span style="display: inline-block; position: relative; width: 1.746em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.461em); top: -2.459em; left: 0em;"><span class="texatom" id="MathJax-Span-42759"><span class="mrow" id="MathJax-Span-42760"><span class="mi" id="MathJax-Span-42761" style="font-family: STIXGeneral; font-style: italic;">e</span><span class="mi" id="MathJax-Span-42762" style="font-family: STIXGeneral; font-style: italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mi" id="MathJax-Span-42763" style="font-family: STIXGeneral; font-style: italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 1.288em;"><span class="texatom" id="MathJax-Span-42764"><span class="mrow" id="MathJax-Span-42765"><span class="mi" id="MathJax-Span-42766" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-42767" style="font-family: STIXGeneral;">(</span><span class="mi" id="MathJax-Span-42768" style="font-family: STIXGeneral; font-style: italic;">h</span><span class="mo" id="MathJax-Span-42769" style="font-family: STIXGeneral;">(</span><span class="mi" id="MathJax-Span-42770" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-42771" style="font-family: STIXGeneral;">)</span><span class="mo" id="MathJax-Span-42772" style="font-family: STIXGeneral;">)</span><span class="mo" id="MathJax-Span-42773" style="font-family: STIXGeneral; padding-left: 0.25em;">+</span><span class="msubsup" id="MathJax-Span-42774" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.801em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.634em -0.461em); top: -2.459em; left: 0em;"><span class="texatom" id="MathJax-Span-42775"><span class="mrow" id="MathJax-Span-42776"><span class="mi" id="MathJax-Span-42777" style="font-family: STIXGeneral; font-style: italic;">e</span><span class="mi" id="MathJax-Span-42778" style="font-family: STIXGeneral; font-style: italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mi" id="MathJax-Span-42779" style="font-family: STIXGeneral; font-style: italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 1.288em;"><span class="texatom" id="MathJax-Span-42780"><span class="mrow" id="MathJax-Span-42781"><span class="mi" id="MathJax-Span-42782" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-42783" style="font-family: STIXGeneral;">(</span><span class="mi" id="MathJax-Span-42784" style="font-family: STIXGeneral; font-style: italic;">h</span><span class="mo" id="MathJax-Span-42785" style="font-family: STIXGeneral;">(</span><span class="mi" id="MathJax-Span-42786" style="font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-42787" style="font-family: STIXGeneral;">)</span><span class="mo" id="MathJax-Span-42788" style="font-family: STIXGeneral;">)</span><span class="mo" id="MathJax-Span-42789" style="font-family: STIXGeneral;">}</span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.15em; vertical-align: -1.204em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-3607">\underset{f}{min}\space d_{\mathcal{H}}(\mathcal{S,T}) \leftrightarrow  \underset{f}{\max}\underset{h\in\mathcal{H}}{\min}\{{err}_{S}(h(x)) + {err}_{T}(h(x))\}</script><p></p><p>즉 에러의 합의 최소값을 가장 크게 하고 domain distance를 가장 작게하는 <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3608-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42790" style="width: 0.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.437em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.617em 1000em 2.83em -0.639em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-42791"><span class="mi" id="MathJax-Span-42792" style="font-family: STIXGeneral; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.213em; vertical-align: -0.319em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3608">f</script></span>를 찾는것인데 이는 adversarial training 방식으로 풀수있는 식이 됩니다. 그리고 이를 위해 Ganin 과 Lempitsky가 <a href="http://proceedings.mlr.press/v37/ganin15.pdf">Unsupervised domain adaptation by backpropagation (ICML 2015)</a> 에서 개발한 gradient reverse layer (GRL)을 사용합니다. (제 이해에는 GRL은 결국 그 이후의 에서의 역전파가 그 이전으로 진행되지 않게 하는것 뿐이라고 생각하고있습니다. 실제 구현도 아마도..) 이에 대하여는 <a href="http://jaejunyoo.blogspot.com/2017/01/domain-adversarial-training-of-neural-3.html"></a> 이 블로그에 잘 정리되어있습니다 (감사합니다!). 최종적인 전체 구조는 아래 그림과 같습니다. (a)까지는 기존의 Faster R-CNN의 구조와 동일하겨 그 뒤로 본 논문에서 소개된 adversarial domain adaptation 모듈들이 추가되어있습니다. 뒤에 한번더 정리하겠지만 최종적인 loss 함수는 기존의 loss와 instance-level , image-level loss와 여기에 추가적으로 consistency regularization을 더합 값을 사용합니다.(각 모듈별 가중치가 붙기는 합니다)</p><p align="center"><br><img src="null" width="1000"><br></p><h2 id="4.-domain-adaptation-for-object-detection"><a name="4.-domain-adaptation-for-object-detection" href="#4.-domain-adaptation-for-object-detection"></a>4. Domain Adaptation for Object Detection</h2><h4 id="4.1-a-probabilistic-perspective"><a name="4.1-a-probabilistic-perspective" href="#4.1-a-probabilistic-perspective"></a>4.1 A Probabilistic perspective</h4><h4 id="4.2-domain-adaptation-components"><a name="4.2-domain-adaptation-components" href="#4.2-domain-adaptation-components"></a>4.2 Domain Adaptation Components</h4><h5 id="4.2.1-image-level-adapation-&amp;-instance-level-adaptation"><a name="4.2.1-image-level-adapation-&amp;-instance-level-adaptation" href="#4.2.1-image-level-adapation-&amp;-instance-level-adaptation"></a>4.2.1 Image-Level Adapation &amp; Instance-Level Adaptation</h5><p>이 절에서는 본격적으로 <strong>Image-Level Adaptation</strong> 과 <strong>Insnace-Level Apatation</strong>에 관하여 설명합니다. 간단히 정리하자면 image-level이라는건 roi로 뽑지않은 이미지 채로 어떤 sample 도메인에 속하는지를 분류하는것이라면 instance-level은 roi로 뽑은 영역들에 대하여 수행하는것입니다. domain discriminator 입장에서 보면 detection이 아니기 때문에 영역이 크게 중요하지는 않지요. 그러나 우리의 최종 목표가 domain invariant한 detector를 만드는것이기 때문에 이왕할거 instance-level도 고려하자 는것입니다. 그러나 이때 주목할 점은 본 논문에서 저자들은 image-level의 adaptation을 수행할 때 이미지 통채로 쓰지않고 patch 단위로 분류를 수행하였다는 점입니다. 이는 Fig.2의 (B)의 아래쪽 흐름의 새로운 conv 모듈을 통해 확인할 수 있습니다. 이를 통해 global한 변화에 덜 휩쓸리며 수행할때 input으로 사용되는 이미지의 resolution을 낮출 수 있기 때문에 한번에 여러개의 minibatch들을 사용할 수 있다는 것을 장점으로 언급하고 있습니다. 이 부분은 식으로 확인하는것이 더 간단할것같습니다. 우선 image-level domain adaptation loss입니다.</p><p align="center"><br><img src="null" alt="e"><br></p><p>보시면 그냥 sample i들에 대한 도메인 분류기 h의 sigmoid cross entrophy loss 함수입니다. <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3609-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42793" style="width: 1.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.148em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.305em 1000em 2.453em -0.458em); top: -2.131em; left: 0em;"><span class="mrow" id="MathJax-Span-42794"><span class="msubsup" id="MathJax-Span-42795"><span style="display: inline-block; position: relative; width: 1.113em; height: 0px;"><span style="position: absolute; clip: rect(2.18em 1000em 3.169em -0.458em); top: -3.005em; left: 0em;"><span class="texatom" id="MathJax-Span-42796"><span class="mrow" id="MathJax-Span-42797"><span class="mi" id="MathJax-Span-42798" style="font-family: STIXNonUnicode; font-style: italic;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.82em;"><span class="texatom" id="MathJax-Span-42799"><span class="mrow" id="MathJax-Span-42800"><span class="mi" id="MathJax-Span-42801" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.131em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.133em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3609">\mathcal{D}_{i}</script></span>는 해당 이미지가 어떤 도메인의 샘플인지에 대한 label이 됩니다. 무려 target domain은 detector를 학습시킬때는 지도학습 가능한 label이 없음에도불구하고 지금의 task에서는 어떤 도메인 출신인지 알수있기 때문에 이처럼 깔끔하게 학습 가능합니다. 또한 위에서 짚어본 바와 같이 image-level 에서는 patch단위로 학습을 수행하기 때문에 image i의 특정 좌표 u,v 별로(아마도 중심좌표) 수행하게 됩니다. 즉 이미지수 * patch 수 만큼 수행하게 됩니다.</p><p>여기서 한번더 adversarial 방식을 사용하였다는것의 의미를 짚어보자면, 원래 detector의 학습은 학습을 진행하면 할수록 training set인 source domain에 overfitting 되어갈 것이므로 결과적으로 위의 image-level domain adaptation loss를 maximize하는 방향으로 진행되게 됩니다. 반면에 위의 loss는 목적상 domain discriminator h가 구별하기 힘들도록 학습시키는 방향으로 학습을 진행하기 때문에, 즉 H-divergence가 감소하는 쪽으로 학습을 진행하기 때문에 base loss를 maximizaton 하는 방향으로 진행하는것과 같게됩니다. 이러한 adversarial training을 반복하면서 domain invariant하게 되어가게 될것입니다.</p><p>이를 이해하면 instance-leve adaptation loss도 마찬가지이기 때문에 간단해집니다.</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-3610-Frame"><nobr><span class="math" id="MathJax-Span-42802" style="width: 23.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 19.18em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.97em 1000em 4.145em -0.462em); top: -3.06em; left: 0em;"><span class="mrow" id="MathJax-Span-42803"><span class="msubsup" id="MathJax-Span-42804"><span style="display: inline-block; position: relative; width: 1.66em; height: 0px;"><span style="position: absolute; clip: rect(2.172em 1000em 3.176em -0.462em); top: -3.005em; left: 0em;"><span class="texatom" id="MathJax-Span-42805"><span class="mrow" id="MathJax-Span-42806"><span class="mi" id="MathJax-Span-42807" style="font-family: STIXNonUnicode; font-style: italic;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.71em;"><span class="texatom" id="MathJax-Span-42808"><span class="mrow" id="MathJax-Span-42809"><span class="mi" id="MathJax-Span-42810" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">i</span><span class="mi" id="MathJax-Span-42811" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">n</span><span class="mi" id="MathJax-Span-42812" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">s</span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-42813" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-42814" style="font-family: STIXGeneral; padding-left: 0.313em;">−</span><span class="munder" id="MathJax-Span-42815"><span style="display: inline-block; position: relative; width: 0.656em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.623em -0.462em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-42816" style="font-family: STIXGeneral;">Σ</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.614em 1000em 2.651em -0.457em); top: -1.565em; left: 0.027em;"><span class="mrow" id="MathJax-Span-42817"><span class="mi" id="MathJax-Span-42818" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">i</span><span class="mo" id="MathJax-Span-42819" style="font-size: 70.7%; font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-42820" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mrow" id="MathJax-Span-42821" style="padding-left: 0.188em;"><span class="mo" id="MathJax-Span-42822" style="vertical-align: -0.246em;"><span><span style="font-size: 110%; font-family: STIXSizeOneSym;">[</span></span></span><span class="msubsup" id="MathJax-Span-42823"><span style="display: inline-block; position: relative; width: 1.113em; height: 0px;"><span style="position: absolute; clip: rect(2.18em 1000em 3.169em -0.458em); top: -3.005em; left: 0em;"><span class="texatom" id="MathJax-Span-42824"><span class="mrow" id="MathJax-Span-42825"><span class="mi" id="MathJax-Span-42826" style="font-family: STIXNonUnicode; font-style: italic;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.82em;"><span class="texatom" id="MathJax-Span-42827"><span class="mrow" id="MathJax-Span-42828"><span class="mi" id="MathJax-Span-42829" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mi" id="MathJax-Span-42830" style="font-family: STIXGeneral; padding-left: 0.188em;">log</span><span class="mo" id="MathJax-Span-42831"></span><span class="msubsup" id="MathJax-Span-42832" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.223em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.828em -0.567em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-42833" style="font-family: STIXGeneral; font-style: italic;">p</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2em; left: 0.546em;"><span class="texatom" id="MathJax-Span-42834"><span class="mrow" id="MathJax-Span-42835"><span class="mi" id="MathJax-Span-42836" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">i</span><span class="mo" id="MathJax-Span-42837" style="font-size: 70.7%; font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-42838" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-42839" style="font-family: STIXGeneral; padding-left: 0.25em;">+</span><span class="mo" id="MathJax-Span-42840" style="font-family: STIXGeneral; padding-left: 0.25em;">(</span><span class="mn" id="MathJax-Span-42841" style="font-family: STIXGeneral;">1</span><span class="mo" id="MathJax-Span-42842" style="font-family: STIXGeneral; padding-left: 0.25em;">−</span><span class="msubsup" id="MathJax-Span-42843" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.113em; height: 0px;"><span style="position: absolute; clip: rect(2.18em 1000em 3.169em -0.458em); top: -3.005em; left: 0em;"><span class="texatom" id="MathJax-Span-42844"><span class="mrow" id="MathJax-Span-42845"><span class="mi" id="MathJax-Span-42846" style="font-family: STIXNonUnicode; font-style: italic;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.82em;"><span class="texatom" id="MathJax-Span-42847"><span class="mrow" id="MathJax-Span-42848"><span class="mi" id="MathJax-Span-42849" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-42850" style="font-family: STIXGeneral;">)</span><span class="mi" id="MathJax-Span-42851" style="font-family: STIXGeneral; padding-left: 0.188em;">log</span><span class="mrow" id="MathJax-Span-42852" style="padding-left: 0.188em;"><span class="mo" id="MathJax-Span-42853" style="vertical-align: -0.246em;"><span><span style="font-size: 110%; font-family: STIXSizeOneSym;">(</span></span></span><span class="mn" id="MathJax-Span-42854" style="font-family: STIXGeneral;">1</span><span class="mo" id="MathJax-Span-42855" style="font-family: STIXGeneral; padding-left: 0.25em;">−</span><span class="msubsup" id="MathJax-Span-42856" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.223em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.828em -0.567em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-42857" style="font-family: STIXGeneral; font-style: italic;">p</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2em; left: 0.546em;"><span class="texatom" id="MathJax-Span-42858"><span class="mrow" id="MathJax-Span-42859"><span class="mi" id="MathJax-Span-42860" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">i</span><span class="mo" id="MathJax-Span-42861" style="font-size: 70.7%; font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-42862" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-42863" style="vertical-align: -0.246em;"><span><span style="font-size: 110%; font-family: STIXSizeOneSym;">)</span></span></span></span><span class="mo" id="MathJax-Span-42864" style="vertical-align: -0.246em;"><span><span style="font-size: 110%; font-family: STIXSizeOneSym;">]</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.06em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.388em; vertical-align: -1.191em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-3610">\mathcal{L}_{ins} = - \underset{i,j}{\Sigma}\left[ \mathcal{D}_{i}\log p_{i,j} + (1-\mathcal{D}_{i})\log \left(1-p_{i,j}\right)  \right]</script><p></p><p>instance-level에서는 이미지 i의 region proposal들 마다 수행하게 됩니다. 그것 외에는 image-level과 동일합니다.</p><p>여기까지의 loss들을 다 정리해보면 최종 loss <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3611-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42865" style="width: 0.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.71em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.172em 1000em 3.176em -0.462em); top: -3.005em; left: 0em;"><span class="mrow" id="MathJax-Span-42866"><span class="texatom" id="MathJax-Span-42867"><span class="mrow" id="MathJax-Span-42868"><span class="mi" id="MathJax-Span-42869" style="font-family: STIXNonUnicode; font-style: italic;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.959em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3611">\mathcal{L}</script></span> 은</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-3612-Frame"><nobr><span class="math" id="MathJax-Span-42870" style="width: 13.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.984em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.977em 1000em 3.534em -0.462em); top: -3.005em; left: 0em;"><span class="mrow" id="MathJax-Span-42871"><span class="texatom" id="MathJax-Span-42872"><span class="mrow" id="MathJax-Span-42873"><span class="mi" id="MathJax-Span-42874" style="font-family: STIXNonUnicode; font-style: italic;"></span></span></span><span class="mo" id="MathJax-Span-42875" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="msubsup" id="MathJax-Span-42876" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.714em; height: 0px;"><span style="position: absolute; clip: rect(2.172em 1000em 3.176em -0.462em); top: -3.005em; left: 0em;"><span class="texatom" id="MathJax-Span-42877"><span class="mrow" id="MathJax-Span-42878"><span class="mi" id="MathJax-Span-42879" style="font-family: STIXNonUnicode; font-style: italic;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.71em;"><span class="texatom" id="MathJax-Span-42880"><span class="mrow" id="MathJax-Span-42881"><span class="mi" id="MathJax-Span-42882" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.019em;"></span></span><span class="mi" id="MathJax-Span-42883" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">e</span><span class="mi" id="MathJax-Span-42884" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-42885" style="font-family: STIXGeneral; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-42886" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.25em;">λ</span><span class="mrow" id="MathJax-Span-42887" style="padding-left: 0.188em;"><span class="mo" id="MathJax-Span-42888" style="vertical-align: -0.201em;"><span style="font-family: STIXSizeOneSym;">(</span></span><span class="msubsup" id="MathJax-Span-42889"><span style="display: inline-block; position: relative; width: 1.878em; height: 0px;"><span style="position: absolute; clip: rect(2.172em 1000em 3.176em -0.462em); top: -3.005em; left: 0em;"><span class="texatom" id="MathJax-Span-42890"><span class="mrow" id="MathJax-Span-42891"><span class="mi" id="MathJax-Span-42892" style="font-family: STIXNonUnicode; font-style: italic;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.71em;"><span class="texatom" id="MathJax-Span-42893"><span class="mrow" id="MathJax-Span-42894"><span class="mi" id="MathJax-Span-42895" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">i</span><span class="mi" id="MathJax-Span-42896" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">m</span><span class="mi" id="MathJax-Span-42897" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">g</span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-42898" style="font-family: STIXGeneral; padding-left: 0.25em;">+</span><span class="msubsup" id="MathJax-Span-42899" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.66em; height: 0px;"><span style="position: absolute; clip: rect(2.172em 1000em 3.176em -0.462em); top: -3.005em; left: 0em;"><span class="texatom" id="MathJax-Span-42900"><span class="mrow" id="MathJax-Span-42901"><span class="mi" id="MathJax-Span-42902" style="font-family: STIXNonUnicode; font-style: italic;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.71em;"><span class="texatom" id="MathJax-Span-42903"><span class="mrow" id="MathJax-Span-42904"><span class="mi" id="MathJax-Span-42905" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">i</span><span class="mi" id="MathJax-Span-42906" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">n</span><span class="mi" id="MathJax-Span-42907" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">s</span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-42908" style="vertical-align: -0.201em;"><span style="font-family: STIXSizeOneSym;">)</span></span></span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.634em; vertical-align: -0.512em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-3612">\mathcal{L} = \mathcal{L}_{det} + \lambda\left( \mathcal{L}_{img}+\mathcal{L}_{ins}  \right)</script><p></p><p>가 됩니다. (<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3613-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42909" style="width: 2.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.749em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.297em 1000em 2.454em -0.462em); top: -2.131em; left: 0em;"><span class="mrow" id="MathJax-Span-42910"><span class="msubsup" id="MathJax-Span-42911"><span style="display: inline-block; position: relative; width: 1.714em; height: 0px;"><span style="position: absolute; clip: rect(2.172em 1000em 3.176em -0.462em); top: -3.005em; left: 0em;"><span class="texatom" id="MathJax-Span-42912"><span class="mrow" id="MathJax-Span-42913"><span class="mi" id="MathJax-Span-42914" style="font-family: STIXNonUnicode; font-style: italic;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.71em;"><span class="texatom" id="MathJax-Span-42915"><span class="mrow" id="MathJax-Span-42916"><span class="mi" id="MathJax-Span-42917" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.019em;"></span></span><span class="mi" id="MathJax-Span-42918" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">e</span><span class="mi" id="MathJax-Span-42919" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.131em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.145em; vertical-align: -0.261em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3613">\mathcal{L}_{det}</script></span> 은 detector의 loss 입니다). <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3614-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-42920" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.617em 1000em 2.639em -0.504em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-42921"><span class="mi" id="MathJax-Span-42922" style="font-family: STIXGeneral; font-style: italic;">λ</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.98em; vertical-align: -0.086em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3614">\lambda</script></span>는 양측의 loss의 밸런스를 맞춰주기위한 상수입니다. 여기서 생각해볼만한 점은 image-level의 의 patch수와 instance-level의 proposal들의 수가 다른만큼 너무 차이나면 한쪽만 의미를 가질수도 있기에 여기도 보정을 해주는것이 좋지 않나 싶은데 딱히 그러지는 않은것 같습니다. 아마 수가 크게 차이나지는 않도록 해서이지 않을까 싶습니다.</p><h5 id="4.2.2-consistency-regularization"><a name="4.2.2-consistency-regularization" href="#4.2.2-consistency-regularization"></a>4.2.2 Consistency Regularization</h5><p>뒤의 실험을 통해서도 확인 할 수 있지만 사실 앞의 두 loss만으로도 충분히 좋은 효과가 얻어집니다. 하지만 저자분들께서는 여기서 한발짝 더 나아가 consistency regularization 까지 소개하였습니다. 이 부분은 제가 본 리뷰에서 건너뛴 부분인 4.1장에서 나타나는 부분인데, 결과만 요약하자면 image, instance 두 level의 domain classifier들 끼리도 distribution의 차이를 줄이는것으로 더 좋은 효과를 얻을 수 있다는것입니다. 이는 instance-level의 domain classifier 역시 image-level의 domain classification에 영향을 받기 때문입니다. 이 둘의 차이를 줄이기 위해서 본 논문에서는 간단하게 L2 regularigation을 사용하였고 여기에서 따서 consisteny regularization 이라고 이름 붙였습니다.</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-3615-Frame"><nobr><span class="math" id="MathJax-Span-42923" style="width: 14.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.186em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(0.943em 1000em 3.544em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-42924"><span class="msubsup" id="MathJax-Span-42925"><span style="display: inline-block; position: relative; width: 1.605em; height: 0px;"><span style="position: absolute; clip: rect(2.172em 1000em 3.176em -0.462em); top: -3.005em; left: 0em;"><span class="texatom" id="MathJax-Span-42926"><span class="mrow" id="MathJax-Span-42927"><span class="mi" id="MathJax-Span-42928" style="font-family: STIXNonUnicode; font-style: italic;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.71em;"><span class="texatom" id="MathJax-Span-42929"><span class="mrow" id="MathJax-Span-42930"><span class="mi" id="MathJax-Span-42931" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">c</span><span class="mi" id="MathJax-Span-42932" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">s</span><span class="mi" id="MathJax-Span-42933" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-42934" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="munder" id="MathJax-Span-42935" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.656em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.623em -0.462em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-42936" style="font-family: STIXGeneral;">Σ</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.614em 1000em 2.651em -0.457em); top: -1.565em; left: 0.027em;"><span class="mrow" id="MathJax-Span-42937"><span class="mi" id="MathJax-Span-42938" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">i</span><span class="mo" id="MathJax-Span-42939" style="font-size: 70.7%; font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-42940" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="texatom" id="MathJax-Span-42941"><span class="mrow" id="MathJax-Span-42942"><span class="mo" id="MathJax-Span-42943" style="font-family: STIXGeneral;">|</span></span></span><span class="texatom" id="MathJax-Span-42944"><span class="mrow" id="MathJax-Span-42945"><span class="mo" id="MathJax-Span-42946" style="font-family: STIXGeneral;">|</span></span></span><span class="mfrac" id="MathJax-Span-42947" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.94em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.619em 1000em 2.623em -0.381em); top: -3.136em; left: 50%; margin-left: -0.273em;"><span class="mn" id="MathJax-Span-42948" style="font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.619em 1000em 2.637em -0.425em); top: -1.773em; left: 50%; margin-left: -0.41em;"><span class="mrow" id="MathJax-Span-42949"><span class="texatom" id="MathJax-Span-42950"><span class="mrow" id="MathJax-Span-42951"><span class="mo" id="MathJax-Span-42952" style="font-family: STIXGeneral;">|</span></span></span><span class="mi" id="MathJax-Span-42953" style="font-family: STIXGeneral; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="texatom" id="MathJax-Span-42954"><span class="mrow" id="MathJax-Span-42955"><span class="mo" id="MathJax-Span-42956" style="font-family: STIXGeneral;">|</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(0.861em 1000em 1.257em -0.492em); top: -1.313em; left: 0em;"><span style="border-left-width: 0.94em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.093em;"></span></span></span></span><span class="munder" id="MathJax-Span-42957" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.623em -0.462em); top: -2.459em; left: 0.109em;"><span class="mi" id="MathJax-Span-42958" style="font-family: STIXGeneral;">Σ</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.765em 1000em 2.604em -0.462em); top: -1.565em; left: 0em;"><span class="mrow" id="MathJax-Span-42959"><span class="mi" id="MathJax-Span-42960" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">u</span><span class="mo" id="MathJax-Span-42961" style="font-size: 70.7%; font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-42962" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">v</span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="texatom" id="MathJax-Span-42963"><span class="mrow" id="MathJax-Span-42964"><span class="mo" id="MathJax-Span-42965" style="font-family: STIXGeneral;">(</span><span class="msubsup" id="MathJax-Span-42966"><span style="display: inline-block; position: relative; width: 1.988em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.828em -0.567em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-42967" style="font-family: STIXGeneral; font-style: italic;">p</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.598em 1000em 2.53em -0.458em); top: -2.71em; left: 0.546em;"><span class="texatom" id="MathJax-Span-42968"><span class="mrow" id="MathJax-Span-42969"><span class="mo" id="MathJax-Span-42970" style="font-size: 70.7%; font-family: STIXGeneral;">(</span><span class="mi" id="MathJax-Span-42971" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">u</span><span class="mo" id="MathJax-Span-42972" style="font-size: 70.7%; font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-42973" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">v</span><span class="mo" id="MathJax-Span-42974" style="font-size: 70.7%; font-family: STIXGeneral;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span><span style="position: absolute; clip: rect(1.614em 1000em 2.412em -0.457em); top: -1.942em; left: 0.546em;"><span class="mi" id="MathJax-Span-42975" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-42976" style="font-family: STIXGeneral; padding-left: 0.25em;">−</span><span class="msubsup" id="MathJax-Span-42977" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.223em; height: 0px;"><span style="position: absolute; clip: rect(1.854em 1000em 2.828em -0.567em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-42978" style="font-family: STIXGeneral; font-style: italic;">p</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2em; left: 0.546em;"><span class="texatom" id="MathJax-Span-42979"><span class="mrow" id="MathJax-Span-42980"><span class="mi" id="MathJax-Span-42981" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">i</span><span class="mo" id="MathJax-Span-42982" style="font-size: 70.7%; font-family: STIXGeneral;">,</span><span class="mi" id="MathJax-Span-42983" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-42984" style="font-family: STIXGeneral;">)</span></span></span><span class="texatom" id="MathJax-Span-42985"><span class="mrow" id="MathJax-Span-42986"><span class="mo" id="MathJax-Span-42987" style="font-family: STIXGeneral;">|</span></span></span><span class="msubsup" id="MathJax-Span-42988"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px;"><span style="position: absolute; clip: rect(1.619em 1000em 2.637em -0.425em); top: -2.459em; left: 0em;"><span class="texatom" id="MathJax-Span-42989"><span class="mrow" id="MathJax-Span-42990"><span class="mo" id="MathJax-Span-42991" style="font-family: STIXGeneral;">|</span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.219em;"><span class="mn" id="MathJax-Span-42992" style="font-size: 70.7%; font-family: STIXGeneral;">2</span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.907em; vertical-align: -1.191em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-3615">\mathcal{L}_{cst} = \underset{i,j}{\Sigma}|| \frac{1}{|I|} \underset{u,v}{\Sigma}{(p_i^{(u,v)} - p_{i,j})}||_2</script><p></p><p>최종적으로는</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-3616-Frame"><nobr><span class="math" id="MathJax-Span-42993" style="width: 16.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.716em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.977em 1000em 3.534em -0.462em); top: -3.005em; left: 0em;"><span class="mrow" id="MathJax-Span-42994"><span class="texatom" id="MathJax-Span-42995"><span class="mrow" id="MathJax-Span-42996"><span class="mi" id="MathJax-Span-42997" style="font-family: STIXNonUnicode; font-style: italic;"></span></span></span><span class="mo" id="MathJax-Span-42998" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="msubsup" id="MathJax-Span-42999" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.714em; height: 0px;"><span style="position: absolute; clip: rect(2.172em 1000em 3.176em -0.462em); top: -3.005em; left: 0em;"><span class="texatom" id="MathJax-Span-43000"><span class="mrow" id="MathJax-Span-43001"><span class="mi" id="MathJax-Span-43002" style="font-family: STIXNonUnicode; font-style: italic;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.71em;"><span class="texatom" id="MathJax-Span-43003"><span class="mrow" id="MathJax-Span-43004"><span class="mi" id="MathJax-Span-43005" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.019em;"></span></span><span class="mi" id="MathJax-Span-43006" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">e</span><span class="mi" id="MathJax-Span-43007" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-43008" style="font-family: STIXGeneral; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-43009" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.25em;">λ</span><span class="mrow" id="MathJax-Span-43010" style="padding-left: 0.188em;"><span class="mo" id="MathJax-Span-43011" style="vertical-align: -0.201em;"><span style="font-family: STIXSizeOneSym;">(</span></span><span class="msubsup" id="MathJax-Span-43012"><span style="display: inline-block; position: relative; width: 1.878em; height: 0px;"><span style="position: absolute; clip: rect(2.172em 1000em 3.176em -0.462em); top: -3.005em; left: 0em;"><span class="texatom" id="MathJax-Span-43013"><span class="mrow" id="MathJax-Span-43014"><span class="mi" id="MathJax-Span-43015" style="font-family: STIXNonUnicode; font-style: italic;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.71em;"><span class="texatom" id="MathJax-Span-43016"><span class="mrow" id="MathJax-Span-43017"><span class="mi" id="MathJax-Span-43018" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">i</span><span class="mi" id="MathJax-Span-43019" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">m</span><span class="mi" id="MathJax-Span-43020" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">g</span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-43021" style="font-family: STIXGeneral; padding-left: 0.25em;">+</span><span class="msubsup" id="MathJax-Span-43022" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.66em; height: 0px;"><span style="position: absolute; clip: rect(2.172em 1000em 3.176em -0.462em); top: -3.005em; left: 0em;"><span class="texatom" id="MathJax-Span-43023"><span class="mrow" id="MathJax-Span-43024"><span class="mi" id="MathJax-Span-43025" style="font-family: STIXNonUnicode; font-style: italic;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.71em;"><span class="texatom" id="MathJax-Span-43026"><span class="mrow" id="MathJax-Span-43027"><span class="mi" id="MathJax-Span-43028" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">i</span><span class="mi" id="MathJax-Span-43029" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">n</span><span class="mi" id="MathJax-Span-43030" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">s</span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-43031" style="font-family: STIXGeneral; padding-left: 0.25em;">+</span><span class="msubsup" id="MathJax-Span-43032" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.605em; height: 0px;"><span style="position: absolute; clip: rect(2.172em 1000em 3.176em -0.462em); top: -3.005em; left: 0em;"><span class="texatom" id="MathJax-Span-43033"><span class="mrow" id="MathJax-Span-43034"><span class="mi" id="MathJax-Span-43035" style="font-family: STIXNonUnicode; font-style: italic;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.71em;"><span class="texatom" id="MathJax-Span-43036"><span class="mrow" id="MathJax-Span-43037"><span class="mi" id="MathJax-Span-43038" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">c</span><span class="mi" id="MathJax-Span-43039" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">s</span><span class="mi" id="MathJax-Span-43040" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.24em;"></span></span></span></span><span class="mo" id="MathJax-Span-43041" style="vertical-align: -0.201em;"><span style="font-family: STIXSizeOneSym;">)</span></span></span></span><span style="display: inline-block; width: 0px; height: 3.005em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.634em; vertical-align: -0.512em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-3616">\mathcal{L} = \mathcal{L}_{det} + \lambda\left( \mathcal{L}_{img}+\mathcal{L}_{ins} +\mathcal{L}_{cst}  \right)</script><p></p><p>이러한 loss 식이 얻어집니다.주목할 점은 이부분은 image의 수로 나눠주었다는 점입니다. 또한 각각에대하여 가중치를 붙이지 않고 하나의 가중치만 사용했다는점입니다. 딱히 신경쓰지 않은것인지 실험을 통해서 다르게 가중치를 둔것이 크게 효과가 없었는지는 잘 모르겠습니다.</p><h2 id="5.-experiments"><a name="5.-experiments" href="#5.-experiments"></a>5. Experiments</h2><p>저자분들께서 서론에서도 언급하신 바와 같이 본 논문에서는 정말 다양한 실험을 통하여 논문에서 제시한 기법의 효용성을 실험적으로 입증하였습니다. 하지만 이 부분은 딱히 의아한 부분도 없고 논문을 참고하는것이 더 좋을것 같아서 따로 정리하지는 않겠습니다.</p>

<footer style="position:fixed; font-size:.8em; text-align:right; bottom:0px; margin-left:-25px; height:20px; width:100%;">generated by <a href="http://pad.haroopress.com" target="_blank">haroopad</a></footer>
</body>
</html>
